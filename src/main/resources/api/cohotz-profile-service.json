{"openapi":"3.0.1","info":{"title":"Cohotz Profile Service","description":"Cohotz Profile Service","version":"1.0"},"servers":[{"url":"http://localhost:8082","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/api/users/{id}":{"get":{"tags":["User"],"summary":"User Details","operationId":"getOne","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserRes"}}}}}},"put":{"tags":["User"],"summary":"Update an User","operationId":"update","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserRes"}}}}}},"delete":{"tags":["User"],"summary":"Delete an existing User of a tenant","operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/users":{"get":{"tags":["User"],"summary":"Fetch All Users","operationId":"listUser","parameters":[{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}},{"name":"search","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListUserMinRes"}}}}}},"post":{"tags":["User"],"summary":"Create a new user/Account","operationId":"saveUser","parameters":[{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserRes"}}}}}}},"/api/init":{"post":{"tags":["App DB Initializer"],"operationId":"init","responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/users/reporting/{reportingToEmail}":{"get":{"tags":["User"],"summary":"Fetch all users with param reportingToEmail","operationId":"listUsersReportingTo","parameters":[{"name":"reportingToEmail","in":"path","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListUserRes"}}}}}}},"/api/users/hierarchy":{"get":{"tags":["User"],"summary":"User Reporting Hierarchy","operationId":"findHierarchyByEmailAndTenant","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListString"}}}}}}},"/api/users/hierarchy/direct-reportees/{email}":{"get":{"tags":["UserHierarchy"],"summary":"Direct Reportees of a user","operationId":"directReportees","parameters":[{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}},{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListUserRes"}}}}}}},"/api/users/hierarchy/all-reportees/{email}":{"get":{"tags":["UserHierarchy"],"summary":"Direct and indirect reportees of a user","operationId":"allReportees","parameters":[{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}},{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListString"}}}}}}},"/api/users/details":{"get":{"tags":["User"],"summary":"User Details from tenant and email","operationId":"findByEmailAndTenant","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"tenant","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserRes"}}}}}}},"/api/users/tenant/{tenant}":{"delete":{"tags":["User"],"summary":"Delete all Users of a tenant","operationId":"deleteByTenant","parameters":[{"name":"tenant","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/ApiResponseMapStringString"},{"$ref":"#/components/schemas/ApiResponseErrorDetail"}]}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"403":{"description":"Forbidden","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseErrorDetail"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}}},"components":{"schemas":{"ApiResponseErrorDetail":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/ErrorDetail"}}},"ErrorDetail":{"type":"object","properties":{"errorCode":{"type":"string"},"errorMessage":{"type":"string"}}},"ApiResponseMapStringString":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"object","additionalProperties":{"type":"string"}}}},"CommunicationChannel":{"type":"object","properties":{"channelId":{"type":"string"},"type":{"type":"string","enum":["SLACK","MICROSOFT_TEAMS","SKYPE","TELEGRAM","WHATSAPP","CUSTOM","CP_DASHBOARD","CP_MOBILE_APP"]},"workspaceId":{"type":"string"}}},"UserDTO":{"required":["email","firstName","lastName","matchingPassword","tenant"],"type":"object","properties":{"id":{"type":"integer","format":"int32"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"matchingPassword":{"type":"string"},"role":{"type":"string"},"tenant":{"type":"string"},"reportingToEmail":{"type":"string"},"employeeId":{"type":"string"},"gender":{"type":"string"},"dob":{"type":"string","format":"date"},"doj":{"type":"string","format":"date"},"doe":{"type":"string","format":"date"},"division":{"type":"string"},"project":{"type":"string"},"client":{"type":"string"},"employeeType":{"type":"string"},"designation":{"type":"string"},"department":{"type":"string"},"employeeRole":{"type":"string"},"employeeBand":{"type":"string"},"workLocation":{"type":"string"},"level2Manager":{"type":"string"},"mobile":{"type":"string"},"presentAddress":{"type":"string"},"permanentAddress":{"type":"string"},"emergencyContact":{"type":"string"},"emergencyContactRel":{"type":"string"},"personalEmail":{"type":"string"},"bloodGroup":{"type":"string"},"previousExperience":{"type":"number","format":"double"},"currentExperience":{"type":"number","format":"double"},"totalExperience":{"type":"number","format":"double"},"channels":{"type":"array","items":{"$ref":"#/components/schemas/CommunicationChannel"}},"active":{"type":"boolean"}}},"ApiResponseUserRes":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/UserRes"}}},"ProfileCultureEngine":{"type":"object","properties":{"name":{"type":"string"},"code":{"type":"string"},"score":{"type":"number","format":"double"},"preferred":{"type":"boolean"},"response_count":{"type":"integer","format":"int64"}}},"UserRes":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"tenant":{"type":"string"},"department":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"active":{"type":"boolean"},"reporting_to":{"type":"string"},"work_location":{"type":"string"},"total_experience":{"type":"number","format":"double"},"current_experience":{"type":"number","format":"double"},"employee_id":{"type":"string"},"preferred_engines":{"type":"array","items":{"$ref":"#/components/schemas/ProfileCultureEngine"}}}},"ApiResponseVoid":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"object"}}},"ApiResponseListUserMinRes":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/UserMinRes"}}}},"UserMinRes":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"string"},"tenant":{"type":"string"},"designation":{"type":"string"},"department":{"type":"string"},"first_name":{"type":"string"},"last_name":{"type":"string"},"active":{"type":"boolean"},"employee_id":{"type":"string"},"reporting_to":{"type":"string"}}},"ApiResponseListUserRes":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/UserRes"}}}},"ApiResponseListString":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"result":{"type":"array","items":{"type":"string"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}